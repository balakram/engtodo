// Plan for 60 days
const plan = [
    {
        week: 1,
        days: [
            {
                day: 1,
                tasks: [
                    "Learn 5 new vocabulary words and use them in sentences.",
                    "Study the present simple tense and complete practice exercises.",
                    "Watch a TED Talk on a topic of interest and write a summary.",
                    "Practice speaking by summarizing the TED Talk in your own words.",
                    "Focus on pronunciation: practice word stress in complex words."
                ]
            },
            {
                day: 2,
                tasks: [
                    "Learn 5 idioms related to time and use them in sentences.",
                    "Review the present continuous tense and practice exercises.",
                    "Listen to a podcast episode on a topic of choice and note key phrases.",
                    "Practice speaking by discussing the podcast topic with a friend.",
                    "Work on pronunciation: practice connected speech."
                ]
            },
            {
                day: 3,
                tasks: [
                    "Learn 5 phrasal verbs and use them in different contexts.",
                    "Study the past simple tense and complete exercises.",
                    "Watch a short movie clip and describe the scene in detail.",
                    "Practice speaking by explaining a personal experience using past tense.",
                    "Focus on pronunciation: practice tongue twisters."
                ]
            },
            {
                day: 4,
                tasks: [
                    "Learn 5 vocabulary words related to emotions and use them in sentences.",
                    "Review the past continuous tense and practice exercises.",
                    "Read an article and summarize it in your own words.",
                    "Practice speaking by giving your opinion on the article's topic.",
                    "Practice pronunciation: focus on vowel sounds."
                ]
            },
            {
                day: 5,
                tasks: [
                    "Learn 5 idioms related to work and use them in sentences.",
                    "Study the present perfect tense and complete exercises.",
                    "Listen to a news report and summarize the main points.",
                    "Practice speaking by pretending to report the news yourself.",
                    "Focus on pronunciation: practice consonant clusters."
                ]
            },
            {
                day: 6,
                tasks: [
                    "Learn 5 phrasal verbs related to daily activities and use them in sentences.",
                    "Review the present perfect continuous tense and practice exercises.",
                    "Watch a cooking show and explain the recipe in your own words.",
                    "Practice speaking by describing your favorite dish and how to make it.",
                    "Practice pronunciation: focus on rhythm in sentences."
                ]
            },
            {
                day: 7,
                tasks: [
                    "Review vocabulary from days 1-6 and create a mind map.",
                    "Study the future simple tense and complete exercises.",
                    "Watch a video about future technology and take notes.",
                    "Practice speaking by discussing the potential impact of future technology.",
                    "Focus on pronunciation: practice stress patterns in multi-syllable words."
                ]
            },
        ]
    },
    {
        week: 2,
        days: [
            {
                day: 8,
                tasks: [
                    "Learn 5 new vocabulary words related to travel and use them in sentences.",
                    "Review the future continuous tense and complete practice exercises.",
                    "Listen to a travel podcast and summarize the main points.",
                    "Practice speaking by describing your dream vacation destination.",
                    "Focus on pronunciation: practice linking sounds in sentences."
                ]
            },
            {
                day: 9,
                tasks: [
                    "Learn 5 idioms related to relationships and use them in sentences.",
                    "Study the future perfect tense and complete exercises.",
                    "Read a short story and discuss its themes and characters.",
                    "Practice speaking by retelling the story in your own words.",
                    "Work on pronunciation: focus on diphthongs."
                ]
            },
            {
                day: 10,
                tasks: [
                    "Learn 5 phrasal verbs related to education and use them in sentences.",
                    "Review the future perfect continuous tense and practice exercises.",
                    "Watch a documentary and write down new vocabulary.",
                    "Practice speaking by explaining what you learned from the documentary.",
                    "Practice pronunciation: focus on intonation in sentences."
                ]
            },
            {
                day: 11,
                tasks: [
                    "Learn 5 vocabulary words related to health and use them in sentences.",
                    "Study the conditional tense and complete exercises.",
                    "Listen to a health podcast and note down useful phrases.",
                    "Practice speaking by discussing ways to stay healthy.",
                    "Focus on pronunciation: practice minimal pairs."
                ]
            },
            {
                day: 12,
                tasks: [
                    "Learn 5 idioms related to sports and use them in sentences.",
                    "Review the zero conditional and first conditional and practice exercises.",
                    "Read an article about a famous athlete and summarize it.",
                    "Practice speaking by discussing the athlete's achievements.",
                    "Work on pronunciation: focus on word endings."
                ]
            },
            {
                day: 13,
                tasks: [
                    "Learn 5 phrasal verbs related to communication and use them in sentences.",
                    "Study the second conditional and complete exercises.",
                    "Watch a debate and note down key arguments.",
                    "Practice speaking by arguing for or against one of the debate topics.",
                    "Practice pronunciation: focus on sentence stress."
                ]
            },
            {
                day: 14,
                tasks: [
                    "Review vocabulary from days 8-13 and create flashcards.",
                    "Study the third conditional and complete exercises.",
                    "Listen to an interview and summarize the key points.",
                    "Practice speaking by giving an interview as the guest or host.",
                    "Focus on pronunciation: practice contractions in sentences."
                ]
            },
        ]
    },
    // Add more weeks and days as needed up to day 60
    {
        week: 3,
        days: [
            {
                day: 15,
                tasks: [
                    "Learn 5 new vocabulary words related to technology and use them in sentences.",
                    "Review mixed conditionals and complete exercises.",
                    "Watch a video about the latest tech trends and take notes.",
                    "Practice speaking by discussing the impact of these trends on society.",
                    "Focus on pronunciation: practice stress in compound nouns."
                ]
            },
            {
                day: 16,
                tasks: [
                    "Learn 5 idioms related to money and use them in sentences.",
                    "Study reported speech and complete exercises.",
                    "Read a financial article and summarize the key points.",
                    "Practice speaking by discussing your views on the article.",
                    "Work on pronunciation: focus on word reductions in speech."
                ]
            },
            {
                day: 17,
                tasks: [
                    "Learn 5 phrasal verbs related to business and use them in sentences.",
                    "Review direct and indirect speech and practice exercises.",
                    "Listen to a business podcast and note down useful phrases.",
                    "Practice speaking by explaining a business concept in your own words.",
                    "Practice pronunciation: focus on silent letters in words."
                ]
            },
            {
                day: 18,
                tasks: [
                    "Learn 5 vocabulary words related to science and use them in sentences.",
                    "Study passive voice and complete exercises.",
                    "Watch a science documentary and write down new terms.",
                    "Practice speaking by explaining a scientific concept you learned.",
                    "Focus on pronunciation: practice stress on important content words."
                ]
            },
            {
                day: 19,
                tasks: [
                    "Learn 5 idioms related to weather and use them in sentences.",
                    "Review passive voice in different tenses and practice exercises.",
                    "Read a weather report and summarize it.",
                    "Practice speaking by predicting the weather for the week.",
                    "Work on pronunciation: focus on schwa sounds in unstressed syllables."
                ]
            },
            {
                day: 20,
                tasks: [
                    "Learn 5 phrasal verbs related to travel and use them in sentences.",
                    "Study modal verbs for possibility and deduction and complete exercises.",
                    "Listen to a travel podcast and note down interesting expressions.",
                    "Practice speaking by discussing a recent trip you took.",
                    "Practice pronunciation: focus on linking sounds between words."
                ]
            },
            {
                day: 21,
                tasks: [
                    "Review vocabulary from days 15-20 and create a quiz for yourself.",
                    "Study the use of 'wish' and 'if only' and complete exercises.",
                    "Watch a movie scene and practice writing and speaking the dialogue.",
                    "Practice speaking by role-playing the scene with a friend.",
                    "Focus on pronunciation: practice intonation in questions and statements."
                ]
            },
        ]
    },
    {
        week: 4,
        days: [
            {
                day: 22,
                tasks: [
                    "Learn 5 new vocabulary words related to the environment and use them in sentences.",
                    "Review modals of obligation and complete exercises.",
                    "Read an article on climate change and summarize its arguments.",
                    "Practice speaking by discussing ways to combat climate change.",
                    "Focus on pronunciation: practice stressed vs. unstressed syllables."
                ]
            },
            {
                day: 23,
                tasks: [
                    "Learn 5 idioms related to nature and use them in sentences.",
                    "Study relative clauses and complete exercises.",
                    "Listen to a nature podcast and take notes on new vocabulary.",
                    "Practice speaking by describing your favorite natural place.",
                    "Work on pronunciation: focus on differentiating long and short vowels."
                ]
            },
            {
                day: 24,
                tasks: [
                    "Learn 5 phrasal verbs related to sports and use them in sentences.",
                    "Review defining and non-defining relative clauses and practice exercises.",
                    "Watch a sports game and describe the key moments.",
                    "Practice speaking by recounting a memorable game you played or watched.",
                    "Practice pronunciation: focus on word endings and plural forms."
                ]
            },
            {
                day: 25,
                tasks: [
                    "Learn 5 vocabulary words related to art and use them in sentences.",
                    "Study question tags and complete exercises.",
                    "Visit an online art gallery and describe the artworks.",
                    "Practice speaking by discussing what you like or dislike about the art.",
                    "Focus on pronunciation: practice word stress in adjectives."
                ]
            },
            {
                day: 26,
                tasks: [
                    "Learn 5 idioms related to emotions and use them in sentences.",
                    "Review embedded questions and practice exercises.",
                    "Listen to a podcast on emotional intelligence and take notes.",
                    "Practice speaking by discussing how to manage emotions effectively.",
                    "Work on pronunciation: focus on differentiating voiced and voiceless sounds."
                ]
            },
            {
                day: 27,
                tasks: [
                    "Learn 5 phrasal verbs related to shopping and use them in sentences.",
                    "Study causative verbs and complete exercises.",
                    "Watch a video about consumer behavior and take notes.",
                    "Practice speaking by explaining how shopping habits have changed over time.",
                    "Practice pronunciation: focus on word stress in multi-syllable words."
                ]
            },
            {
                day: 28,
                tasks: [
                    "Review vocabulary from days 22-27 and play a vocabulary game.",
                    "Study mixed conditionals and complete exercises.",
                    "Watch a comedy show and note down humorous expressions.",
                    "Practice speaking by explaining why certain jokes are funny.",
                    "Focus on pronunciation: practice stress and intonation in humor."
                ]
            },
        ]
    },
    {
        week: 5,
        days: [
            {
                day: 29,
                tasks: [
                    "Learn 5 new vocabulary words related to technology and use them in sentences.",
                    "Review the past perfect tense and complete exercises.",
                    "Read an article about the latest tech trends and summarize its key points.",
                    "Practice speaking by discussing the pros and cons of these trends.",
                    "Focus on pronunciation: practice stress in compound words."
                ]
            },
            {
                day: 30,
                tasks: [
                    "Learn 5 idioms related to time management and use them in sentences.",
                    "Study the future perfect tense and complete exercises.",
                    "Listen to a podcast on productivity and take notes.",
                    "Practice speaking by discussing how to manage time effectively.",
                    "Work on pronunciation: focus on elision in fast speech."
                ]
            },
            {
                day: 31,
                tasks: [
                    "Learn 5 phrasal verbs related to learning and use them in sentences.",
                    "Review passive voice in all tenses and complete exercises.",
                    "Watch a tutorial on a new skill and summarize the steps.",
                    "Practice speaking by explaining how to perform the skill.",
                    "Practice pronunciation: focus on word stress in instructions."
                ]
            },
            {
                day: 32,
                tasks: [
                    "Learn 5 vocabulary words related to business and use them in sentences.",
                    "Study reported speech and complete exercises.",
                    "Read a business news article and summarize the main points.",
                    "Practice speaking by discussing the impact of the news on the economy.",
                    "Focus on pronunciation: practice word endings in business terminology."
                ]
            },
            {
                day: 33,
                tasks: [
                    "Learn 5 idioms related to communication and use them in sentences.",
                    "Review indirect speech and complete exercises.",
                    "Listen to a debate on a controversial topic and take notes.",
                    "Practice speaking by arguing for or against the topic.",
                    "Work on pronunciation: focus on sentence stress in arguments."
                ]
            },
            {
                day: 34,
                tasks: [
                    "Learn 5 phrasal verbs related to health and use them in sentences.",
                    "Study modal verbs for speculation and complete exercises.",
                    "Watch a health documentary and note down new vocabulary.",
                    "Practice speaking by discussing health tips and advice.",
                    "Practice pronunciation: focus on linking words in speech."
                ]
            },
            {
                day: 35,
                tasks: [
                    "Review vocabulary from days 29-34 and create a vocabulary quiz.",
                    "Study the use of 'would rather' and 'had better' and complete exercises.",
                    "Watch a movie scene and practice writing and speaking the dialogue.",
                    "Practice speaking by role-playing the scene with a friend.",
                    "Focus on pronunciation: practice intonation in dialogues."
                ]
            },
        ]
    },
    {
        week: 6,
        days: [
            {
                day: 36,
                tasks: [
                    "Learn 5 new vocabulary words related to culture and use them in sentences.",
                    "Review conditionals in different contexts and complete exercises.",
                    "Read an article about cultural differences and summarize its key points.",
                    "Practice speaking by discussing the importance of cultural awareness.",
                    "Focus on pronunciation: practice vowel sounds in cultural terminology."
                ]
            },
            {
                day: 37,
                tasks: [
                    "Learn 5 idioms related to luck and use them in sentences.",
                    "Study the subjunctive mood and complete exercises.",
                    "Listen to a podcast on superstitions and take notes.",
                    "Practice speaking by sharing your thoughts on superstitions.",
                    "Work on pronunciation: focus on stress patterns in idiomatic expressions."
                ]
            },
            {
                day: 38,
                tasks: [
                    "Learn 5 phrasal verbs related to technology and use them in sentences.",
                    "Review gerunds and infinitives and complete exercises.",
                    "Watch a tech review video and note down key points.",
                    "Practice speaking by explaining the pros and cons of a gadget.",
                    "Practice pronunciation: focus on sentence rhythm in tech jargon."
                ]
            },
            {
                day: 39,
                tasks: [
                    "Learn 5 vocabulary words related to emotions and use them in sentences.",
                    "Study reported questions and complete exercises.",
                    "Read an article about emotional intelligence and summarize its key points.",
                    "Practice speaking by discussing how to improve emotional intelligence.",
                    "Focus on pronunciation: practice stress in emotion-related words."
                ]
            },
            {
                day: 40,
                tasks: [
                    "Learn 5 idioms related to weather and use them in sentences.",
                    "Review passive voice in reported speech and complete exercises.",
                    "Listen to a weather forecast and summarize the key points.",
                    "Practice speaking by predicting the weather for the next week.",
                    "Work on pronunciation: focus on connected speech in forecasts."
                ]
            },
            {
                day: 41,
                tasks: [
                    "Learn 5 phrasal verbs related to shopping and use them in sentences.",
                    "Study causative verbs in different contexts and complete exercises.",
                    "Watch a video on consumer behavior and note down key points.",
                    "Practice speaking by discussing shopping habits and trends.",
                    "Practice pronunciation: focus on stress in shopping-related terms."
                ]
            },
            {
                day: 42,
                tasks: [
                    "Review vocabulary from days 36-41 and play a vocabulary game.",
                    "Study the use of 'as if' and 'as though' and complete exercises.",
                    "Watch a stand-up comedy show and note down humorous expressions.",
                    "Practice speaking by explaining why certain jokes are funny.",
                    "Focus on pronunciation: practice intonation in comedic delivery."
                ]
            },
        ]
    },
    {
        week: 7,
        days: [
            {
                day: 43,
                tasks: [
                    "Learn 5 new vocabulary words related to travel and use them in sentences.",
                    "Review conditionals with modals and complete exercises.",
                    "Read a travel blog and summarize its key points.",
                    "Practice speaking by describing your dream travel destination.",
                    "Focus on pronunciation: practice stress in travel-related vocabulary."
                ]
            },
            {
                day: 44,
                tasks: [
                    "Learn 5 idioms related to food and use them in sentences.",
                    "Study relative pronouns and complete exercises.",
                    "Listen to a cooking podcast and take notes on new vocabulary.",
                    "Practice speaking by explaining a recipe in your own words.",
                    "Work on pronunciation: focus on syllable stress in food terminology."
                ]
            },
            {
                day: 45,
                tasks: [
                    "Learn 5 phrasal verbs related to education and use them in sentences.",
                    "Review defining and non-defining relative clauses and practice exercises.",
                    "Watch a documentary on education and note down key points.",
                    "Practice speaking by discussing the importance of education.",
                    "Practice pronunciation: focus on stress in educational terms."
                ]
            },
            {
                day: 46,
                tasks: [
                    "Learn 5 vocabulary words related to science and use them in sentences.",
                    "Study question tags in different contexts and complete exercises.",
                    "Read a science article and summarize its key points.",
                    "Practice speaking by explaining a scientific concept in simple terms.",
                    "Focus on pronunciation: practice stress in science-related words."
                ]
            },
            {
                day: 47,
                tasks: [
                    "Learn 5 idioms related to sports and use them in sentences.",
                    "Review embedded questions in different contexts and practice exercises.",
                    "Listen to a sports commentary and summarize the key points.",
                    "Practice speaking by discussing a recent sports event.",
                    "Work on pronunciation: focus on stress in sports-related terminology."
                ]
            },
            {
                day: 48,
                tasks: [
                    "Learn 5 phrasal verbs related to emotions and use them in sentences.",
                    "Study causative verbs in different tenses and complete exercises.",
                    "Watch a video on emotional intelligence and take notes.",
                    "Practice speaking by discussing how to manage emotions effectively.",
                    "Practice pronunciation: focus on linking words in emotional expressions."
                ]
            },
            {
                day: 49,
                tasks: [
                    "Review vocabulary from days 43-48 and create a vocabulary quiz.",
                    "Study mixed conditionals in different contexts and complete exercises.",
                    "Watch a movie scene and practice writing and speaking the dialogue.",
                    "Practice speaking by role-playing the scene with a friend.",
                    "Focus on pronunciation: practice intonation in dialogues."
                ]
            },
        ]
    },
    {
        week: 8,
        days: [
            {
                day: 50,
                tasks: [
                    "Learn 5 new vocabulary words related to technology and use them in sentences.",
                    "Review the past perfect tense in different contexts and complete exercises.",
                    "Read an article about the latest tech trends and summarize its key points.",
                    "Practice speaking by discussing the pros and cons of these trends.",
                    "Focus on pronunciation: practice stress in compound words."
                ]
            },
            {
                day: 51,
                tasks: [
                    "Learn 5 idioms related to time management and use them in sentences.",
                    "Study the future perfect tense in different contexts and complete exercises.",
                    "Listen to a podcast on productivity and take notes.",
                    "Practice speaking by discussing how to manage time effectively.",
                    "Work on pronunciation: focus on elision in fast speech."
                ]
            },
            {
                day: 52,
                tasks: [
                    "Learn 5 phrasal verbs related to learning and use them in sentences.",
                    "Review passive voice in all tenses and complete exercises.",
                    "Watch a tutorial on a new skill and summarize the steps.",
                    "Practice speaking by explaining how to perform the skill.",
                    "Practice pronunciation: focus on word stress in instructions."
                ]
            },
            {
                day: 53,
                tasks: [
                    "Learn 5 vocabulary words related to business and use them in sentences.",
                    "Study reported speech in different contexts and complete exercises.",
                    "Read a business news article and summarize the main points.",
                    "Practice speaking by discussing the impact of the news on the economy.",
                    "Focus on pronunciation: practice word endings in business terminology."
                ]
            },
            {
                day: 54,
                tasks: [
                    "Learn 5 idioms related to communication and use them in sentences.",
                    "Review indirect speech in different contexts and complete exercises.",
                    "Listen to a debate on a controversial topic and take notes.",
                    "Practice speaking by arguing for or against the topic.",
                    "Work on pronunciation: focus on sentence stress in arguments."
                ]
            },
            {
                day: 55,
                tasks: [
                    "Learn 5 phrasal verbs related to health and use them in sentences.",
                    "Study modal verbs for speculation in different contexts and complete exercises.",
                    "Watch a health documentary and note down new vocabulary.",
                    "Practice speaking by discussing health tips and advice.",
                    "Practice pronunciation: focus on linking words in speech."
                ]
            },
            {
                day: 56,
                tasks: [
                    "Review vocabulary from days 50-55 and create a vocabulary quiz.",
                    "Study the use of 'would rather' and 'had better' in different contexts and complete exercises.",
                    "Watch a movie scene and practice writing and speaking the dialogue.",
                    "Practice speaking by role-playing the scene with a friend.",
                    "Focus on pronunciation: practice intonation in dialogues."
                ]
            },
        ]
    },
    {
        week: 9,
        days: [
            {
                day: 57,
                tasks: [
                    "Learn 5 new vocabulary words related to culture and use them in sentences.",
                    "Review conditionals in different contexts and complete exercises.",
                    "Read an article about cultural differences and summarize its key points.",
                    "Practice speaking by discussing the importance of cultural awareness.",
                    "Focus on pronunciation: practice vowel sounds in cultural terminology."
                ]
            },
            {
                day: 58,
                tasks: [
                    "Learn 5 idioms related to luck and use them in sentences.",
                    "Study the subjunctive mood in different contexts and complete exercises.",
                    "Listen to a podcast on superstitions and take notes.",
                    "Practice speaking by sharing your thoughts on superstitions.",
                    "Work on pronunciation: focus on stress patterns in idiomatic expressions."
                ]
            },
            {
                day: 59,
                tasks: [
                    "Learn 5 phrasal verbs related to technology and use them in sentences.",
                    "Review gerunds and infinitives in different contexts and complete exercises.",
                    "Watch a tech review video and note down key points.",
                    "Practice speaking by explaining the pros and cons of a gadget.",
                    "Practice pronunciation: focus on sentence rhythm in tech jargon."
                ]
            },
            {
                day: 60,
                tasks: [
                    "Learn 5 vocabulary words related to emotions and use them in sentences.",
                    "Study reported questions in different contexts and complete exercises.",
                    "Read an article about emotional intelligence and summarize its key points.",
                    "Practice speaking by discussing how to improve emotional intelligence.",
                    "Focus on pronunciation: practice stress in emotion-related words."
                ]
            }
        ]
    }
];

/*for (const week of dayPlan) {
    for (const day of week.days) {
        console.log(`Day ${day.day}`);
        for (const task of day.tasks) {
            console.log(`- ${task}`);
        }
    }
}*/
let currentDayIndex = loadCurrentDayIndex();
let completedTasks = loadCompletedTasks();

function generateDayTasks() {
    const dayContainer = document.getElementById('day-container');
    dayContainer.innerHTML = ''; // Clear previous tasks

    // Find the current day based on the index
    let dayData = getDayData(currentDayIndex);

    if (dayData) {
        const dayTitle = document.createElement('h2');
        dayTitle.textContent = `Day ${dayData.day}`;
        dayContainer.appendChild(dayTitle);

        const taskList = document.createElement('ul');
        taskList.className = 'day-tasks';

        dayData.tasks.forEach((task, index) => {
            const taskItem = document.createElement('li');
            taskItem.textContent = task;
            const taskKey = `${currentDayIndex}-${index}`;

            // Check if the task is completed
            if (completedTasks.includes(taskKey)) {
                taskItem.classList.add('completed');
            }

            taskItem.onclick = () => toggleComplete(taskItem, taskKey);
            taskList.appendChild(taskItem);
        });

        dayContainer.appendChild(taskList);
    }

    checkAllTasksCompleted();  // Check if all tasks are completed
    saveProgress();  // Save progress whenever tasks are generated
}

function getDayData(dayIndex) {
    let totalDays = 0;
    for (let week of plan) {
        for (let day of week.days) {
            if (totalDays === dayIndex) {
                return day;
            }
            totalDays++;
        }
    }
    return null;
}

function changeDay(direction) {
    const totalDays = plan.reduce((acc, week) => acc + week.days.length, 0);
    currentDayIndex = (currentDayIndex + direction + totalDays) % totalDays;
    generateDayTasks();
}

function toggleComplete(taskItem, taskKey) {
    taskItem.classList.toggle('completed');

    if (taskItem.classList.contains('completed')) {
        if (!completedTasks.includes(taskKey)) {
            completedTasks.push(taskKey);
        }
    } else {
        completedTasks = completedTasks.filter(task => task !== taskKey);
    }

    saveProgress();  // Save progress whenever a task is toggled

    checkAllTasksCompleted();  // Check if all tasks are completed after toggling
}

function checkAllTasksCompleted() {
    const container = document.querySelector('.container');
    if (areAllTasksCompleted()) {
        container.classList.add('all-completed');
    } else {
        container.classList.remove('all-completed');
    }
}

function areAllTasksCompleted() {
    let dayData = getDayData(currentDayIndex);
    if (!dayData) return false;

    for (let i = 0; i < dayData.tasks.length; i++) {
        if (!completedTasks.includes(`${currentDayIndex}-${i}`)) {
            return false;
        }
    }
    return true;
}

function moveToNextDay() {
    changeDay(1);
    completedTasks = completedTasks.filter(task => task.startsWith(`${currentDayIndex}-`));
    saveProgress();
}

function saveProgress() {
    localStorage.setItem('currentDayIndex', currentDayIndex);
    localStorage.setItem('completedTasks', JSON.stringify(completedTasks));
}

function loadCurrentDayIndex() {
    return parseInt(localStorage.getItem('currentDayIndex')) || 0;
}

function loadCompletedTasks() {
    return JSON.parse(localStorage.getItem('completedTasks')) || [];
}

window.onload = generateDayTasks;


//-------------------------------------------
function generateDayTasks() {
    const dayContainer = document.getElementById('day-container');
    dayContainer.innerHTML = ''; // Clear previous tasks

    // Find the current day based on the index
    let dayData = getDayData(currentDayIndex);

    if (dayData) {
        const dayTitle = document.createElement('h2');
        dayTitle.textContent = `Day ${dayData.day}`;
        dayContainer.appendChild(dayTitle);

        const taskList = document.createElement('ul');
        taskList.className = 'day-tasks';

        dayData.tasks.forEach((task, index) => {
            const taskItem = document.createElement('li');
            taskItem.textContent = task;
            if (completedTasks.includes(`${currentDayIndex}-${index}`)) {
                taskItem.classList.add('completed');
            }
            taskItem.onclick = () => toggleComplete(taskItem, index);
            taskList.appendChild(taskItem);
        });

        dayContainer.appendChild(taskList);
    }

    checkAllTasksCompleted();  // Check if all tasks are completed
    saveProgress();  // Save progress whenever tasks are generated
}

function toggleComplete(taskItem, taskIndex) {
    taskItem.classList.toggle('completed');
    const taskKey = `${currentDayIndex}-${taskIndex}`;

    if (taskItem.classList.contains('completed')) {
        completedTasks.push(taskKey);
    } else {
        completedTasks = completedTasks.filter(task => task !== taskKey);
    }

    saveProgress();  // Save progress whenever a task is toggled

    checkAllTasksCompleted();  // Check if all tasks are completed after toggling

    if (areAllTasksCompleted()) {
        moveToNextDay();
    }
}

function checkAllTasksCompleted() {
    const container = document.querySelector('.container');
    if (areAllTasksCompleted()) {
        container.classList.add('all-completed');
    } else {
        container.classList.remove('all-completed');
    }
}

// ... [dark them]
document.addEventListener('DOMContentLoaded', () => {
    // Check for saved theme in localStorage
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
        document.body.classList.toggle('dark-theme', savedTheme === 'dark');
    } else {
        // Default theme is dark
        localStorage.setItem('theme', 'dark');
    }

    // Developer icon click event
    /*const devIcon = document.querySelector('.dev-icon');
    devIcon.addEventListener('click', () => {
        alert('Hello ðŸ‘‹, My Name is Balakram Tudu. Visit my profile at: https://balakram.github.io/balakramtudu/index.html');
    });*/
});

// DEveloper Click
document.addEventListener('DOMContentLoaded', () => {
    // Check for saved theme in localStorage
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
        document.body.classList.toggle('dark-theme', savedTheme === 'dark');
    } else {
        // Default theme is dark
        localStorage.setItem('theme', 'dark');
    }

    // Developer icon click event
    const devIcon = document.querySelector('.dev-icon');
    const modal = document.getElementById('modal');
    const span = document.querySelector('.close');

    devIcon.addEventListener('click', () => {
        modal.style.display = 'block';
    });

    span.addEventListener('click', () => {
        modal.style.display = 'none';
    });

    window.addEventListener('click', (event) => {
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    });
});
